using PayrollEngine.Client.Scripting.Local;
using Xunit;

namespace PayrollEngine.Client.Scripting.Tests;

public class CheckDigitTests
{
    [Fact]
    public void SwissCheckUidBfsTest()
    {
        Assert.False(Switzerland.IsValidUidBfs("999999991"));
        Assert.False(Switzerland.IsValidUidBfs("999999992"));
        Assert.False(Switzerland.IsValidUidBfs("999999993"));
        Assert.False(Switzerland.IsValidUidBfs("999999994"));
        Assert.False(Switzerland.IsValidUidBfs("999999995"));
        Assert.True(Switzerland.IsValidUidBfs("999999996"));
        Assert.False(Switzerland.IsValidUidBfs("999999997"));
        Assert.False(Switzerland.IsValidUidBfs("999999998"));
        Assert.False(Switzerland.IsValidUidBfs("999999999"));
        Assert.False(Switzerland.IsValidUidBfs("999999990"));
    }

    [Fact]
    public void SwissCheckBurTest()
    {
        Assert.False(Switzerland.IsValidBur("12345671"));
        Assert.False(Switzerland.IsValidBur("12345672"));
        Assert.False(Switzerland.IsValidBur("12345673"));
        Assert.False(Switzerland.IsValidBur("12345674"));
        Assert.False(Switzerland.IsValidBur("12345675"));
        Assert.False(Switzerland.IsValidBur("12345676"));
        Assert.True(Switzerland.IsValidBur("12345677"));
        Assert.False(Switzerland.IsValidBur("12345678"));
        Assert.False(Switzerland.IsValidBur("12345679"));
        Assert.False(Switzerland.IsValidBur("12345670"));
    }

    [Fact]
    public void SwissCheckSocialSecurityTest()
    {
        Assert.False(Switzerland.IsValidSocialSecurity("7569217076981"));
        Assert.False(Switzerland.IsValidSocialSecurity("7569217076982"));
        Assert.False(Switzerland.IsValidSocialSecurity("7569217076983"));
        Assert.False(Switzerland.IsValidSocialSecurity("7569217076984"));
        Assert.True(Switzerland.IsValidSocialSecurity("7569217076985"));
        Assert.False(Switzerland.IsValidSocialSecurity("7569217076986"));
        Assert.False(Switzerland.IsValidSocialSecurity("7569217076987"));
        Assert.False(Switzerland.IsValidSocialSecurity("7569217076988"));
        Assert.False(Switzerland.IsValidSocialSecurity("7569217076989"));
        Assert.False(Switzerland.IsValidSocialSecurity("7569217076980"));
    }

    [Fact]
    public void SwissCheckSocialSecurityTestSet()
    {
        var numbers = new[]
        {
            "7567815170753",
            "7568482880129",
            "7566387978385",
            "7568248684367",
            "7567479467176",
            "7567956276949",
            "7565342993395",
            "7561694574961",
            "7560648308393",
            "7564532893026",
            "7560688448264",
            "7563561223613",
            "7560984980536",
            "7563064616226",
            "7568791500091",
            "7562521389147",
            "7562588499636",
            "7568397974890",
            "7565409220167",
            "7561359480897",
            "7568296873393",
            "7560993908958",
            "7561517416898",
            "7568484211754",
            "7566542640355",
            "7566489021613",
            "7566700865286",
            "7569923748206",
            "7561860946844",
            "7566995170867",
            "7568125622864",
            "7566015185451",
            "7565795833637",
            "7567151774776",
            "7564098496426",
            "7560029095836",
            "7560283817267",
            "7567201834764",
            "7563214737931",
            "7565826420812",
            "7560607706383",
            "7560266692232",
            "7567868517208",
            "7569895791491",
            "7560822780380",
            "7567970490314",
            "7564573645288",
            "7565535018782",
            "7563247641298",
            "7564012105113",
            "7569331377838",
            "7562174285902",
            "7560411308193",
            "7568679697219",
            "7564997394595",
            "7569540482699",
            "7569908048581",
            "7562371315938",
            "7561880112502",
            "7561681433776",
            "7567819488977",
            "7565779774710",
            "7565748570558",
            "7565394976780",
            "7565397055864",
            "7564881502853",
            "7565659148600",
            "7567892484804",
            "7561751577386",
            "7566998995436",
            "7569969862478",
            "7566765204419",
            "7561536429763",
            "7563594810491",
            "7569737619464",
            "7565554371318",
            "7566602531623",
            "7563060360499",
            "7567004034132",
            "7567088400793",
            "7565776428463",
            "7561334435607",
            "7562165824394",
            "7567052515461",
            "7569684240070",
            "7568522319169",
            "7561234033897",
            "7561944315429",
            "7562250766646",
            "7561934529553",
            "7568712762874",
            "7566030059140",
            "7568116967691",
            "7569181041767",
            "7565511736488",
            "7561138630543",
            "7560026159371",
            "7564038988226",
            "7560891240365",
            "7566291878023",
            "7563327490723",
            "7566921584591",
            "7567750565621",
            "7563738294453",
            "7561490329635",
            "7561024539103",
            "7562553476976",
            "7567277759046",
            "7566334717760",
            "7562409587047",
            "7563074885667",
            "7562480971483",
            "7569275762394",
            "7561522746560",
            "7562810795406",
            "7569415582219",
            "7564628016384",
            "7569418632430",
            "7565907126077",
            "7565085709949",
            "7567446368161",
            "7567017920286",
            "7562947660493",
            "7565911804503",
            "7561970590500",
            "7566499743598",
            "7568462605919",
            "7564288869382",
            "7567413018471",
            "7560249267532",
            "7561166730710",
            "7566755241431",
            "7567922204556",
            "7566507046673",
            "7568035261962",
            "7569185498543",
            "7569452214937",
            "7564682880754",
            "7567995510295",
            "7565096504489",
            "7566814626957",
            "7567188593869",
            "7568414433393",
            "7564634275164",
            "7567522257211",
            "7568321168425",
            "7566489481974",
            "7561094535395",
            "7567662079018",
            "7561329394520",
            "7561188187004",
            "7562265989900",
            "7569770555477",
            "7569149371776",
            "7565140596828",
            "7563051968277",
            "7568752253066",
            "7562267486308",
            "7564115852860",
            "7564424360216",
            "7568583203599",
            "7562129684521",
            "7566132412195",
            "7560393951349",
            "7562449333239",
            "7569315180683",
            "7560211744887",
            "7562544310685",
            "7560264595627",
            "7561615292486",
            "7565003055219",
            "7567706863764",
            "7568700056114",
            "7569829117120",
            "7566803632587",
            "7566649399637",
            "7568393205066",
            "7560521394208",
            "7561979557948",
            "7565285591825",
            "7562716974622",
            "7561973521907",
            "7567526129422",
            "7560946232642",
            "7566970222871",
            "7562813083005",
            "7566996454799",
            "7564588863912",
            "7569488125818",
            "7569338311965",
            "7565850351342",
            "7562466336756",
            "7561673058123",
            "7562176432465",
            "7561119907329",
            "7561529717792",
            "7564299278548",
            "7568679251886",
            "7565710873625",
            "7567047520173",
            "7563280276396",
            "7565632859370",
            "7561669043089",
            "7566615997997",
            "7569538910814",
            "7564733205680",
            "7566685675016",
            "7566820588898",
            "7569929231627",
            "7563639764994",
            "7564087872163",
            "7560157538700",
            "7568829350902",
            "7562919091287",
            "7561073468737",
            "7568600787088",
            "7565103949197",
            "7561025922386",
            "7562001535309",
            "7562318814289",
            "7562282930305",
            "7564041083673",
            "7566243999158",
            "7566128444063",
            "7566144080443",
            "7560049506381",
            "7567707409367",
            "7564078463431",
            "7568966664078",
            "7567776391075",
            "7569392342967",
            "7564035188674",
            "7569604533237",
            "7560772299840",
            "7561149285589",
            "7569651680991",
            "7567716208425",
            "7567440560127",
            "7568898116836",
            "7563513643926",
            "7567720316185",
            "7569334045116",
            "7564120854897",
            "7568824176958",
            "7568610309072",
            "7561688285262",
            "7562748851304",
            "7568853275318",
            "7569918526802",
            "7564434259739",
            "7564604913522",
            "7564449059744",
            "7560633842475",
            "7563217705258",
            "7562355269608",
            "7562709458153",
            "7566374211518",
            "7564478067345",
            "7561164403432",
            "7562578299406",
            "7562114975498",
            "7561572341555",
            "7566465649244",
            "7562128134010",
            "7563731056058",
            "7565275547856",
            "7567340289661",
            "7561123665345",
            "7569284217861",
            "7569149213557",
            "7564078194632",
            "7563548619644",
            "7567597483478",
            "7561123371178",
            "7569296550048",
            "7565825132716",
            "7563991466383",
            "7561655073663",
            "7569373308104",
            "7563720010658",
            "7563143288740",
            "7564960961496",
            "7560016309564",
            "7565381659702",
            "7567641449405",
            "7561884342998",
            "7569261374709",
            "7562293023300",
            "7565532398085",
            "7563845168180",
            "7565243491013",
            "7564019002705",
            "7564663829376",
            "7561182491718",
            "7568345754550",
            "7569319205962",
            "7561365915826",
            "7564638050156",
            "7560747203179",
            "7567388399896",
            "7565845135025",
            "7562018940516",
            "7566792373676",
            "7568120861312",
            "7561931367769",
            "7568580185348",
            "7566399619580",
            "7563129377970",
            "7567225244938",
            "7568242775368",
            "7560064529945",
            "7563747293522",
            "7568432822605",
            "7565806792861",
            "7564216028294",
            "7568352296029",
            "7561334854491",
            "7566124203923",
            "7568731976511",
            "7562550159834",
            "7568109635415",
            "7567345094956",
            "7567081895114",
            "7566407929274",
            "7569485923066",
            "7561349948666",
            "7560909649111",
            "7565607752927",
            "7567798282542",
            "7561019808771",
            "7561724746559",
            "7569573936411",
            "7567850698496",
            "7567200076394",
            "7569012499835",
            "7564447972069",
            "7565524795380",
            "7569593945370",
            "7566305381655",
            "7568947876674",
            "7566251557142",
            "7564048940504",
            "7569397302911",
            "7563926584182",
            "7564559438149",
            "7561780924298",
            "7564405578937",
            "7561846936715",
            "7563351627294",
            "7568080813352",
            "7565212986809",
            "7560059712048",
            "7561553684541",
            "7561988199016",
            "7561883374228",
            "7561001214160",
            "7569222523535",
            "7565591650841",
            "7562019124328",
            "7566848454793",
            "7563252394301",
            "7562324844287",
            "7560365133551",
            "7562115132173",
            "7562710762836",
            "7565650916765",
            "7562504627228",
            "7566470558388",
            "7568826795935",
            "7569328365855",
            "7567585556023",
            "7566063341816",
            "7560501753940",
            "7568405391237",
            "7561881921158",
            "7567721738603",
            "7568697093536",
            "7565674045878",
            "7565860341340",
            "7567955558640",
            "7565647482679",
            "7567267073107",
            "7569052240176",
            "7565957780458",
            "7566430656369",
            "7566926021558",
            "7562474107010",
            "7560961592905",
            "7569684958821",
            "7564750624853",
            "7566066220453",
            "7567789299542",
            "7569588553207",
            "7560167726098",
            "7563940713018",
            "7566429920273",
            "7562973762451",
            "7565887647296",
            "7560291220325",
            "7567430777580",
            "7566003947801",
            "7568913284694",
            "7563700536246",
            "7567394311271",
            "7562018168835",
            "7566826462277",
            "7561233199136",
            "7568916370974",
            "7560688792589",
            "7564240856153",
            "7567758121362",
            "7569753998444",
            "7568975660962",
            "7565314495384",
            "7560426584155",
            "7565614959814",
            "7566277319878",
            "7562858159352",
            "7568085286502",
            "7562356510679",
            "7563206336944",
            "7565748482417",
            "7565835725045",
            "7568076777989",
            "7564477710396",
            "7569049290894",
            "7562076171532",
            "7561724288134",
            "7563096148771",
            "7563172404951",
            "7563934831506",
            "7565069255561",
            "7563575839169",
            "7568569607564",
            "7560711940789",
            "7560240195353",
            "7569789839988",
            "7569776951631",
            "7569674019631",
            "7560478539899",
            "7561912716142",
            "7560442215460",
            "7567010935553",
            "7569730483772",
            "7565596616132",
            "7567363136522",
            "7563623649054",
            "7568837444686",
            "7561023665407",
            "7565255947805",
            "7568312456845",
            "7564713169728",
            "7566250484616",
            "7568314056876",
            "7565085013114",
            "7568145806145",
            "7560835211277",
            "7569477493966",
            "7561875714254",
            "7568229487574",
            "7566565385745",
            "7566260182175",
            "7568790426422",
            "7565226043482",
            "7566050676853",
            "7560110187907",
            "7567411129438",
            "7560697939159",
            "7562184892817",
            "7561979095785",
            "7561498507639",
            "7561437824292",
            "7565108863320",
            "7566849945825",
            "7563620725508",
            "7567111451648",
            "7567489770310",
            "7560361011600",
            "7562036352025",
            "7569853706895",
            "7568509862589",
            "7562654085510"
        };

        foreach (var number in numbers)
        {
            Assert.True(Switzerland.IsValidSocialSecurity(number));
        }
    }
}